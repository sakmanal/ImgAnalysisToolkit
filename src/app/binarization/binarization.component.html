<input  style="display: none" type='file' (change)="onSelectFile($event)" #fileInput accept="image/*">


<div style="margin: 5px">
<button mat-raised-button style="margin-right: 10px; margin-bottom: 5px;  font-size: 17px" color="accent" (click)="fileInput.click()"><mat-icon>add circle</mat-icon> Select Image</button>

<button mat-raised-button style="margin-right: 5px; margin-bottom: 5px;"  [color]="colorotsu" (click)="otsuBinarization()">otsu</button>
<button mat-raised-button style="margin-right: 5px; margin-bottom: 5px;" [color]="colorsauvola" (click)="sauvolaBinarization()">sauvola</button>
<button mat-raised-button style="margin-right: 5px; margin-bottom: 5px;" [color]="colornegative" (click)="InvertColoursFilter()">invert Colours</button>
<button mat-raised-button style="margin-right: 5px; margin-bottom: 5px;"  [color]="colorgpp" (click)="gppdBinarization()">gpp</button>
<button mat-raised-button style="margin-right: 5px; margin-bottom: 5px;"  (click)="view()">restore Image</button>

<button mat-raised-button color="accent" (click)="save()"   [disabled]="disableImageFilter">
  <mat-icon>save</mat-icon> Save Image
</button>

<button mat-mini-fab color="warn" style="margin-left: 7px" matTooltip="fill screen" [disabled]="disableImageFilter" (click)="fillscreen()"> 
    <mat-icon>crop_free</mat-icon>
</button>

<button mat-mini-fab color="warn" style="margin-left: 7px" matTooltip="fit screen" [disabled]="disableImageFilter" (click)="fitscreen()"> 
    <mat-icon>fullscreen_exit</mat-icon>
</button>
</div>


 



<div class="row">
        <div class="side">
                <div *ngIf="img.src">

                    <strong><span style="color:#F44336;font-size:15px"> Image dimensions:</span> {{img.width}} x {{img.height}} pixels</strong>
                    <p>
                    Threshold:
                    <mat-slider 
                        [disabled]="disableImageFilter"
                        color="primary" 
                        [thumbLabel]= "true"
                        [step]="step"
                        [(ngModel)]="value"
                        [max]="max"
                        [min]="min" (change)="manualThresholdBinarization()">
                    </mat-slider>{{value}}
                    </p>
   
                   
                     <mat-expansion-panel>
      
                        <mat-expansion-panel-header>
                          <mat-panel-title>
                            sauvola parameters
                          </mat-panel-title>
                        </mat-expansion-panel-header>
                       
                        <mat-form-field>
                          <input matInput type="number" autocomplete="off" [(ngModel)]="masksize" placeholder="masksize">
                        </mat-form-field>
                        <mat-form-field>
                          <input matInput type="number" [(ngModel)]="stathera" placeholder="stathera">
                        </mat-form-field>
                        <mat-form-field>
                          <input matInput type="number" [(ngModel)]="rstathera" placeholder="rstathera">
                        </mat-form-field>
                        <mat-form-field>
                          <input matInput type="number" [(ngModel)]="n" placeholder="n">
                        </mat-form-field>
                       
                      </mat-expansion-panel>

                      <mat-expansion-panel>
      
                          <mat-expansion-panel-header>
                            <mat-panel-title>
                              gpp parameters
                            </mat-panel-title>
                          </mat-expansion-panel-header>
                         
                          <mat-form-field>
                            <input matInput type="number" [(ngModel)]="dw" placeholder="dW">
                          </mat-form-field>
                          <mat-form-field>
                            <input matInput type="number" [(ngModel)]="k" placeholder="k">
                          </mat-form-field>
                          <mat-form-field>
                            <input matInput type="number" [(ngModel)]="R" placeholder="R">
                          </mat-form-field>
                          <mat-form-field>
                            <input matInput type="number" [(ngModel)]="q" placeholder="q">
                          </mat-form-field>
                          <mat-form-field>
                              <input matInput type="number" [(ngModel)]="p1" placeholder="p1">
                            </mat-form-field>
                            <mat-form-field>
                              <input matInput type="number" [(ngModel)]="p2" placeholder="p2">
                            </mat-form-field>
                            <mat-form-field>
                              <input matInput type="number" [(ngModel)]="dw1" placeholder="dW1">
                            </mat-form-field>
                            <mat-checkbox style="margin-left: 5px" [(ngModel)]="upsampling">upsampling</mat-checkbox>
                         
                        </mat-expansion-panel>
                   


                     <!--  <button mat-icon-button><mat-icon color="warn"  (click)="zoomOUT()">zoom_out</mat-icon></button>
                      <mat-slider 
                               [disabled]="disableImageFilter"
                               color="warn" 
                               [step]="30"
                               [(ngModel)]="width"
                               [max]="maxwidth"
                               [min]="20" >
                      </mat-slider>
                      <button mat-icon-button><mat-icon color="warn"  (click)="zoomIN()">zoom_in </mat-icon></button> -->
      
                      
                        
                

                      <!-- <button mat-raised-button style="margin: 0 7px;"  color="warn" [disabled]="disableImageFilter" (click)="fillscreen()"> <mat-icon>crop_free</mat-icon> fill screen</button>
                      <button mat-raised-button  color="warn"  [disabled]="disableImageFilter" (click)="originalSize()">original size</button>
                      <button mat-raised-button style="margin: 0 7px;" color="warn" [disabled]="disableImageFilter" (click)="fitscreen()">fit screen</button> -->
      
                 
             
                      
                </div>      
        </div>
        <div class="main" id="main">
                <div *ngIf="showSpinner" class="spinner"></div>
                 <!-- <mat-spinner *ngIf="showSpinner" class="Spinner" [diameter]="100" ></mat-spinner>-->
           
                <p> <canvas mouseWheel (mouseWheelUp)="mouseWheelUpFunc()" (mouseWheelDown)="mouseWheelDownFunc()" class="responsive" [ngStyle]="{'width.px': width }"  #canvasfilter></canvas> </p>
        </div>
      </div>
